import{_ as D}from"./BDMdXTfd.js";import{_ as O}from"./BJtdx8Bp.js";import{_ as R}from"./DjfhUWZR.js";import{_ as U}from"./CkguQgpz.js";import{_ as I}from"./hfC4E8nd.js";import{_ as M}from"./sizKiCXL.js";import{_ as V}from"./BRJLwexE.js";import{N as b,r as u,j,h as z,s as Z,y as E,e as T,C as W,c as X,o as G,b as r,a as t,u as a,w as o,d as x,t as S,F as q,_ as J}from"./Dyj2WlPb.js";const K=b("/img/user-guide/user-guide-1.png"),Y=b("/img/user-guide/user-guide-2.png"),H=b("/img/user-guide/user-guide-3.png"),Q=b("/img/user-guide/user-guide-4.png"),ee=b("/img/user-guide/user-guide-5.png"),te=()=>{const p=u(!1),c=u(!1),f=u(""),d=u(!1),l=u({}),g=u(""),w="^XA^JBR^XZ",P=E(),B={default:{toFormat:"zpl",fromFormat:"png",action:"print",resize:{width:712,height:1118},fitTo:{width:812,height:1218}},small:{toFormat:"zpl",fromFormat:"png",action:"print",resize:{width:451,height:200},fitTo:{width:551,height:236}}},k=e=>new Promise((s,n)=>{if(document.querySelector(`script[src="${e}"]`)){s();return}const i=document.createElement("script");i.src=e,i.onload=()=>s(),i.onerror=()=>n(new Error(`Failed to load script: ${e}`)),document.head.appendChild(i)}),C=()=>p.value?Promise.resolve():k(`${P.app.baseURL}js/BrowserPrint-Zebra-1.1.250.min.js`).then(()=>k(`${P.app.baseURL}js/BrowserPrint-3.1.250.min.js`)).then(()=>{p.value=!0,Promise.resolve()}),A=()=>new Promise((e,s)=>{BrowserPrint.getApplicationConfiguration(n=>{c.value=!0,f.value=n.application.version,e(n)},n=>{c.value=!0,s(n)})}),h=()=>l.value.name?Promise.resolve():new Promise((e,s)=>{BrowserPrint.getDefaultDevice("printer",n=>{l.value=n,l.value.send(w,()=>{g.value=l.value.name,d.value=!0,e()},i=>{d.value=!0,s(i)})},n=>{d.value=!1,s(n)})}),y=(e,s=v=>{},n=v=>{},i="default")=>{if(m.value){l.value.send(w,void 0,function(_){Z({title:"Error !",content:_},"danger")});const v=B[i];if(!v){console.error(`Invalid label option key: ${i}`);return}l.value.convertAndSendFile(e,function(_){s(_)},_=>{n(_)},v)}else console.error("Printer setup incomplete.")},N=()=>c.value&&d.value?Promise.resolve():new Promise((e,s)=>{C().then(()=>Promise.all([h(),A()])).then(()=>{e()}).catch(n=>{console.error("Failed to initialize BrowserPrint:",n),s(n)})}),m=j(()=>c.value&&d.value);return z(()=>{N()}),{appVersion:f,deviceName:g,setupCompleted:m,reloadPrint:N,isAppSetup:c,isPrinterSetup:d,print:y}},ne=()=>{const p=u(""),c=u(""),f=()=>{const l=window.navigator.userAgent.toLowerCase();l.indexOf("mac")!==-1?p.value="Mac":l.indexOf("win")!==-1&&(p.value="Windows")},d=j(()=>p.value==="Mac"?"/zebra-browser-print-mac-v131445.dmg":p.value==="Windows"?"/zebra-browser-print-windows-v131445 2.exe":"/");return z(()=>{f(),c.value=d.value}),{downloadLink:c}},oe={class:"flex gap-2"},se={class:"flex justify-between items-center"},ie={class:"inline-flex items-center"},re={class:"grid xl:grid-cols-3 gap-4 mb-5"},le={class:"rounded-xl bg-primary4 text-primary-dark flex justify-center items-center h-12 w-12"},ae={class:"card-text-secondary"},ce={class:"rounded-xl bg-primary4 text-primary-dark flex justify-center items-center h-12 w-12"},de={class:"card-text-secondary"},ue={class:"rounded-xl bg-primary4 text-primary-dark flex justify-center items-center h-12 w-12"},pe={class:"border rounded-full w-9 h-9 flex items-center justify-center"},me=["href"],ve=T({__name:"PrinterSetup",emits:["setup-completed"],setup(p,{expose:c,emit:f}){const d=f,{reloadPrint:l,isAppSetup:g,isPrinterSetup:w,print:P,setupCompleted:B,deviceName:k,appVersion:C}=te(),{downloadLink:A}=ne(),h=u(!1),y=()=>{h.value=!1};return W(B,m=>{d("setup-completed",m)}),c({handlePrint:(m,e,s,n="default")=>{if(m){const v=["default","small"].includes(n)?n:"default";P(m,e,s,v)}}}),(m,e)=>{const s=D,n=O,i=R,v=U,_=I,F=M,$=V;return G(),X(q,null,[r(n,{size:"lg",title:"Application User Guide","backdrop-close":!1,visible:a(h),onClose:e[1]||(e[1]=L=>y())},{footer:o(()=>[t("div",oe,[r(s,{variant:"outline",color:"info",onClick:e[0]||(e[0]=L=>y())},{default:o(()=>e[3]||(e[3]=[x(" Close ")])),_:1})])]),default:o(()=>[e[4]||(e[4]=t("div",{class:"user-guide"},[t("div",null," A pop-up will appear requesting access to any connected Zebra devices. Select Yes. "),t("img",{src:K}),t("div",null," Right-click (WIN) or Click (OS X) on the Zebra log icon and select Settings. Browser Print’s settings will open. "),t("div",null,"OSX:"),t("img",{src:Y}),t("div",null,"WIN:"),t("img",{src:H}),t("div",null," To set or change the default printer, click the “Change” button. A pop-up will appear with a dropdown of all discoverable devices (finding network connected Zebra printers may take a few moments). "),t("img",{src:Q}),t("div",null," Select the device you would like to print to by default and click “Set”. "),t("img",{src:ee}),t("div",null,"back to the homepage, click the “Recheck” button")],-1))]),_:1},8,["visible"]),r(v,{visible:!a(g)||!a(w),color:"danger"},{icon:o(()=>[r(i,{class:"icon-cil-warning"})]),default:o(()=>[e[5]||(e[5]=x(" Printer Not Connected ! "))]),_:1},8,["visible"]),t("div",se,[t("div",ie,[e[6]||(e[6]=t("div",{class:"text-gray-500"},"Environmental Diagnosis",-1)),r(_,{color:"link","without-text":"","loading-click":a(l)},null,8,["loading-click"])]),t("div",null,[r(s,{color:"link",onClick:e[2]||(e[2]=L=>h.value=!0)},{default:o(()=>e[7]||(e[7]=[x(" User Guide ")])),_:1})])]),t("div",re,[r($,null,{left:o(()=>[t("div",le,[r(i,{class:"icon-grid text-xl"})])]),center:o(()=>[e[8]||(e[8]=t("h5",{class:"cart-title"},"Application",-1)),t("div",ae,"Version: "+S(a(C)),1)]),right:o(()=>[r(F,{color:a(g)?"success":"danger"},{default:o(()=>[x(S(a(g)?"active":"inactive"),1)]),_:1},8,["color"])]),_:1}),r($,null,{left:o(()=>[t("div",ce,[r(i,{class:"icon-printer text-xl"})])]),center:o(()=>[e[9]||(e[9]=t("h5",{class:"cart-title"},"Printer",-1)),t("div",de,"Device: - "+S(a(k)),1)]),right:o(()=>[r(F,{color:a(w)?"success":"danger"},{default:o(()=>[x(S(a(w)?"active":"inactive"),1)]),_:1},8,["color"])]),_:1}),r($,null,{left:o(()=>[t("div",ue,[r(i,{class:"icon-page text-xl"})])]),center:o(()=>e[10]||(e[10]=[t("h5",{class:"cart-title"},"Download Browser Print",-1),t("div",{class:"card-text-secondary"}," USB, Network printing to browser-based applications. ",-1)])),right:o(()=>[t("div",pe,[r(s,{color:"link"},{icon:o(()=>[t("a",{href:a(A)},[r(i,{class:"icon-download text-gray-500"})],8,me)]),_:1})])]),_:1})])],64)}}}),ke=J(ve,[["__scopeId","data-v-b4e2323b"]]);export{ke as _};
