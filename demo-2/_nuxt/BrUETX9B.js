import{_ as C}from"./4ZgsPuCv.js";import{_ as A}from"./BTARQjjd.js";import{_ as L}from"./CzCyeDm6.js";import{_ as M}from"./CZ95sRV0.js";import{_ as R}from"./D2I4-BiG.js";import{_ as U}from"./DWQ8hRLP.js";import{_ as $}from"./BF-nH7kg.js";import{e as z,y as E,z as I,r,i as N,o as T,w as l,a,b as s,u as o,d as i,A as j,l as q,t as D,B as F}from"./CGlOR2SB.js";import{u as P}from"./ygeAwaRL.js";import{u as H}from"./CauFSikq.js";import"./DcQmg7LI.js";const G={class:"block mx-auto"},J={class:"flex justify-between"},le=z({__name:"login",setup(K){P({title:"Login"});const{env:f}=E().public,g=I(),{alertMsg:m,showAlert:w,clearAlerts:b}=H(),d=r(!1),t=r({email:localStorage.getItem("rememberedEmail")||"",password:""});r(!0);const v=async()=>{if(!(t.value.email==""||t.value.password=="")){d.value=!0;try{await g.login(t.value),b(),d.value=!1}catch(p){w(p.message,"danger")}}},x=()=>{F("/reset-password")},u=r(!!localStorage.getItem("rememberedEmail"));return(p,e)=>{const c=C,_=A,y=L,V=M,B=R,S=U,k=$;return T(),N(k,{class:"bg-gray-100"},{default:l(()=>[a("div",G,[s(S,{class:"w-[500px] p-8",shadow:""},{default:l(()=>[s(c,{visible:o(f)!=="production",color:"warning"},{default:l(()=>e[4]||(e[4]=[i(" This site is during the release candidate phase and not yet in production. ")])),_:1},8,["visible"]),e[8]||(e[8]=a("div",{class:"mb-6 text-center"},[a("h3",null,"Sign in to account")],-1)),a("form",{class:"flex flex-col gap-2 w-full",onSubmit:e[3]||(e[3]=j(()=>{},["prevent"]))},[s(_,{modelValue:o(t).email,"onUpdate:modelValue":e[0]||(e[0]=n=>o(t).email=n),label:"Email",autocomplete:"email",placeholder:"nome@example.com",required:""},null,8,["modelValue"]),s(_,{modelValue:o(t).password,"onUpdate:modelValue":e[1]||(e[1]=n=>o(t).password=n),type:"password",label:"Password",autocomplete:"current-password",placeholder:"password",required:""},null,8,["modelValue"]),a("div",J,[s(y,{id:"rememberMe",modelValue:o(u),"onUpdate:modelValue":e[2]||(e[2]=n=>q(u)?u.value=n:null),label:"Remember password"},null,8,["modelValue"]),s(V,{color:"link",size:"sm",class:"underline",type:"button",onClick:x},{default:l(()=>e[5]||(e[5]=[i(" Forgot password? ")])),_:1})]),e[7]||(e[7]=a("div",{class:"flex justify-center items-center my-2"},null,-1)),s(B,{color:"primary",size:"sm",class:"w-full","loading-click":v},{default:l(()=>e[6]||(e[6]=[i(" Login ")])),_:1})],32),s(c,{visible:o(m).visible,color:o(m).color,class:"text-center"},{default:l(()=>[i(D(o(m).message),1)]),_:1},8,["visible","color"])]),_:1})])]),_:1})}}});export{le as default};
