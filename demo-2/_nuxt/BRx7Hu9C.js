import{_ as N}from"./BQedWJ-q.js";import{e as L,c as p,o as n,n as d,D,_ as E,N as Y,j as B,r as C,h as U,Q as G,i as x,q,u as a,w as b,a as m,f as w,d as z,t as M,b as v,F as T,g as P,T as H,y as J,a1 as S,z as W,a2 as Z,A as j}from"./B9-TfvVs.js";import{_ as F}from"./C3f6OBEQ.js";import{_ as ee}from"./cvffQCnr.js";import{_ as te}from"./CjmsN62w.js";import{m as ie}from"./BWFg95Bt.js";const se=L({__name:"NavBarItemPlain",props:{display:{type:String,default:"flex"},useMargin:Boolean},setup(e){return(o,t)=>(n(),p("div",{class:d([[e.display,e.useMargin?"my-2 mx-3":"py-2 px-3"],"items-center cursor-pointer"])},[D(o.$slots,"default")],2))}}),ne={__name:"NavDivider",props:{navBar:Boolean},setup(e){const o=e;return(t,i)=>(n(),p("hr",{class:d(o.navBar?"lg:my-0.5":"my-6 -mx-60")},null,2))}},oe=E(ne,[["__scopeId","data-v-ea502b57"]]),ae=Y("/img/user.svg"),ce={key:0,src:ae,alt:"",class:"rounded-full"},le=L({__name:"NavBarItem",props:{item:{}},emits:["menu-click"],setup(e,{emit:o}){const t=e,i=o,c=B(()=>t.item.href?"a":t.item.to?F:"div"),l=B(()=>{const s=[r.value?"text-slate-400":"text-black",(t.item.menu,"py-2 px-3"),t.item.isCurrentUser?"":"rounded-lg hover:bg-gray-100"];return t.item.isDesktopNoLabel&&s.push("w-16","justify-center"),s}),r=C(!1),u=s=>{i("menu-click",s,t.item),t.item.menu&&(r.value=!r.value)},g=(s,y)=>{i("menu-click",s,y)},A=C(null),h=s=>{A.value&&!A.value.contains(s.target)&&(r.value=!1)};return U(()=>{t.item.menu&&window.addEventListener("click",h)}),G(()=>{t.item.menu&&window.removeEventListener("click",h)}),(s,y)=>{const f=oe,k=N,_=V;return s.item.isDivider?(n(),x(f,{key:0,"nav-bar":""})):(n(),x(q(a(c)),{key:1,ref_key:"root",ref:A,class:d(["block lg:flex items-center relative cursor-pointer",a(l)]),to:s.item.to??null,target:s.item.target??null,onClick:u},{default:b(()=>[m("div",{class:d(["flex items-center",{"bg-transparent lg:p-0 p-3":s.item.menu}])},[s.item.icon?(n(),x(k,{key:0,class:d([s.item.icon,"transition-colors"])},null,8,["class"])):w("",!0),m("span",{class:d(["transition-colors",{hidden:s.item.isDesktopNoLabel&&s.item.icon}])},[m("div",{class:d([s.item.isCurrentUser?"rounded-full text-white text-sm font-semibold w-8 h-8 flex justify-center items-center":""])},[s.item.isCurrentUser?(n(),p("img",ce)):w("",!0),z(" "+M(s.item.label),1)],2)],2)],2),s.item.menu?(n(),p("div",{key:0,class:d(["text-sm bg-white border border-neutral-300 py-2 px-3 absolute top-full -left-20 w-[126px] z-30 rounded-xl shadow-lg",{hidden:!a(r)}])},[v(_,{menu:s.item.menu,onMenuClick:g},null,8,["menu"])],2)):w("",!0)]),_:1},8,["class","to","target"]))}}}),V=L({__name:"NavBarMenuList",props:{menu:{}},emits:["menu-click"],setup(e,{emit:o}){const t=o,i=(c,l)=>{t("menu-click",c,l)};return(c,l)=>{const r=le;return n(!0),p(T,null,P(c.menu,(u,g)=>(n(),x(r,{key:g,item:u,onMenuClick:i},null,8,["item"]))),128)}}}),re={class:"fixed ml-0 inset-x-0 top-0 z-30 transition-position md:w-auto bg-slate-100 border-b md:border-b-gray-200"},ue={class:"flex justify-between py-4 px-9"},de={class:"flex flex-1 items-stretch h-[42px]"},me={class:"flex items-center justify-center flex-row h-[42px]"},pe=L({__name:"NavBar",props:{menu:{},isAsideLgActive:{type:Boolean},isAsideMobileExpanded:{type:Boolean}},emits:["menu-click"],setup(e,{emit:o}){const t=o,i=(c,l)=>{t("menu-click",c,l)};return(c,l)=>{const r=V;return n(),p("nav",re,[m("div",ue,[m("div",de,[D(c.$slots,"default")]),m("div",me,[v(r,{menu:c.menu,onMenuClick:i},null,8,["menu"])])])])}}}),ve={key:0,class:"text-xs text-gray-600 px-5 pt-6 pb-1"},fe=L({__name:"AsideMenuItem",props:{item:{type:Object,required:!0},isDropdownList:Boolean,isAsideActive:Boolean,isAsideLgActive:Boolean},emits:["menu-click"],setup(e,{emit:o}){const t=e,i=C(!1),c=o,l=B(()=>!!t.item.menu),r=u=>{c("menu-click",u,t.item),l.value&&(i.value=!i.value)};return(u,g)=>{const A=N,h=O;return n(),p("li",null,[(n(),x(q(e.item.to?a(F):"a"),{to:e.item.to??null,target:e.item.target??null,onClick:r},{default:b(s=>[e.item.category&&e.isAsideLgActive?(n(),p("div",ve,M(e.item.category),1)):w("",!0),m("div",{class:d(["flex cursor-pointe rounded-xl px-2 mb-1 active:bg-primary1 opacity-80",[t.isDropdownList&&e.isAsideLgActive?"py-3 px-5":"py-2","text-white active:text-white",s&&s.isExactActive?"bg-primary1":"hover:bg-gray-700"]])},[e.item.icon?(n(),x(A,{key:0,class:d(["text-xl w-10",[e.item.icon,s&&s.isExactActive?"text-white":""]])},null,8,["class"])):w("",!0),e.isAsideLgActive||e.isAsideActive?(n(),p("span",{key:1,class:d(["flex justify-start items-center grow text-ellipsis line-clamp-1 text-white",[{"px-0":!a(l)||t.isDropdownList},s&&s.isExactActive?"text-white":""]])},M(e.item.label),3)):w("",!0),a(l)?(n(),x(A,{key:2,class:d(["flex-none icon-arrows-directions-down",[{rotate:a(i)},s&&s.isExactActive?"text-white":""]])},null,8,["class"])):w("",!0)],2)]),_:1},8,["to","target"])),v(H,{name:"tooltip"},{default:b(()=>[a(i)?(n(),x(h,{key:0,"is-aside-lg-active":e.isAsideLgActive,"is-aside-active":e.isAsideActive,menu:e.item.menu,"is-dropdown-list":""},null,8,["is-aside-lg-active","is-aside-active","menu"])):w("",!0)]),_:1})])}}}),xe=E(fe,[["__scopeId","data-v-f866fa98"]]),O={__name:"AsideMenuList",props:{isDropdownList:Boolean,menu:{type:Array,required:!0},isAsideActive:Boolean,isAsideLgActive:Boolean},emits:["menu-click"],setup(e,{emit:o}){const t=o,i=(c,l)=>{t("menu-click",c,l)};return(c,l)=>{const r=xe;return n(),p("ul",null,[(n(!0),p(T,null,P(e.menu,(u,g)=>(n(),x(r,{key:g,item:u,"is-dropdown-list":e.isDropdownList,"is-aside-active":e.isAsideActive,"is-aside-lg-active":e.isAsideLgActive,onMenuClick:i},null,8,["item","is-dropdown-list","is-aside-active","is-aside-lg-active"]))),128))])}}},_e={class:"flex-1 flex flex-col overflow-hidden bg-slate-800 text-white"},ge={class:"flex h-14 justify-center items-center m-4"},Ae={key:0,class:"flex justify-between items-center gap-4"},ye={class:"flex-1 overflow-y-auto overflow-x-hidden px-4"},he={__name:"AsideMenuLayer",props:{menu:{type:Array,required:!0},isAsideLgActive:{type:Boolean,required:!0},isAsideActive:Boolean,isAsideMobileExpanded:Boolean},emits:["menu-click","aside-lg-close-click"],setup(e,{emit:o}){const{env:t}=J().public,i=o,c=(r,u)=>{i("menu-click",r,u)},l=r=>{i("aside-lg-close-click",r)};return(r,u)=>{const g=ee,A=N,h=O,s=te;return n(),p("aside",{id:"aside",class:d(["lg:py-0 w-[268px] fixed flex z-30 top-0 h-screen transition-all overflow-hidden",[e.isAsideLgActive?"":"md:w-[75px]"]])},[m("div",_e,[m("div",ge,[e.isAsideLgActive?(n(),p("div",Ae,[v(g,{src:"logo-invert-1.svg",width:"236"}),v(A,{class:"icon-arrows-directions-left text-white md:hidden",onClick:l})])):(n(),x(g,{key:1,src:"favicon-256.png",width:"36",height:"36"}))]),m("div",ye,[v(h,{"is-aside-lg-active":e.isAsideLgActive,"is-aside-active":e.isAsideActive,menu:e.menu,onMenuClick:c},null,8,["is-aside-lg-active","is-aside-active","menu"]),m("ul",null,[v(s,{visible:e.isAsideLgActive&&a(t)!=="production",color:"warning",class:"text-center"},{default:b(()=>u[0]||(u[0]=[z(" This site is during the release candidate phase and not yet in production. ")])),_:1},8,["visible"])])])])],2)}}},ke=L({__name:"AsideMenu",props:{menu:{type:Array,required:!0},isAsideMobileExpanded:Boolean,isAsideLgActive:Boolean,isAsideActive:Boolean},emits:["menu-click","aside-lg-close-click"],setup(e,{emit:o}){const t=o,i=(l,r)=>{t("menu-click",l,r)},c=l=>{t("aside-lg-close-click",l)};return(l,r)=>{const u=he;return n(),p("div",null,[v(u,{menu:e.menu,"is-aside-active":e.isAsideActive,class:d([e.isAsideMobileExpanded?"md:left-75 left-0":"-left-72 sm:left-0"]),"is-aside-mobile-expanded":e.isAsideMobileExpanded,"is-aside-lg-active":e.isAsideLgActive,onMenuClick:i,onAsideLgCloseClick:c},null,8,["menu","is-aside-active","class","is-aside-mobile-expanded","is-aside-lg-active"])])}}}),we={},be={class:"border-t bg-slate-100"},Le={class:"py-4 px-7 flex justify-end"},Be={class:"text-sm footer-text h-4"};function Ce(e,o){return n(),p("div",be,[m("footer",Le,[m("div",Be," MAX ERP Template Â© "+M(new Date().getFullYear()),1)])])}const Me=E(we,[["render",Ce]]);function Q(e,o){return e.reduce((t,i)=>(i.menu&&(i.menu=Q(i.menu,o)),(Array.isArray(i.roles)?i.roles.some(o):o(i.roles))&&t.push(i),t),[])}function R(){const e=ie,{$ability:o}=S();return Q(e,i=>o.can("manage",i))}const $e=[{isCurrentUser:!0,menu:[{label:"Log Out",isLogout:!0}]}],Ne={class:"pt-[75px] h-auto w-screen md:w-auto transition-position"},qe=L({__name:"authenticated",props:{openRightSide:{type:Boolean}},setup(e){const o=W(),t=C(!1),i=C(!0),c=C(!1),l=()=>{c.value=window.matchMedia("(max-width: 767px)").matches},r=Z();r.beforeEach(()=>{l(),t.value=!1,i.value=!0}),U(()=>{const y=window.matchMedia("(max-width: 767px)");l(),y.addEventListener("change",l)});const u=B(()=>h(R(),r.currentRoute.value.fullPath)),g=B(()=>u.value.label),A=B(()=>[i.value?"md:ml-[268px]":"md:ml-[75px]"]),h=(y,f,k="")=>{for(const _ of y){if(_.to===f)return{label:_.label,category:_.category||k};if(_.menu){const $=h(_.menu,f,_.category||k);if($.label)return $}}return{label:"",category:k}},s=async(y,f)=>{f.isLogout&&await o.logout()};return(y,f)=>{const k=N,_=se,$=pe,K=ke,X=Me;return n(),p("div",Ne,[v($,{class:d(a(A)),"right-side-open":y.openRightSide,menu:a($e),"is-aside-lg-active":a(i),"is-aside-mobile-expanded":a(t),onMenuClick:s},{default:b(()=>[v(_,{display:"flex md:hidden",onClick:f[0]||(f[0]=j(I=>t.value=!a(t),["prevent"]))},{default:b(()=>[a(t)?w("",!0):(n(),x(k,{key:0,class:"text-primary1 text-xl icon-hamburger-menu"}))]),_:1}),v(_,{display:"hidden md:flex xs:hidden",onClick:f[1]||(f[1]=j(I=>i.value=!a(i),["prevent"]))},{default:b(()=>[a(i)?(n(),x(k,{key:0,class:"text-primary1 text-xl icon-arrows-directions-left"})):(n(),x(k,{key:1,class:"text-primary1 text-xl icon-hamburger-menu"}))]),_:1}),v(_,null,{default:b(()=>[m("h5",null,M(a(g)),1)]),_:1})]),_:1},8,["class","right-side-open","menu","is-aside-lg-active","is-aside-mobile-expanded"]),v(K,{"is-aside-mobile-expanded":a(t),"is-aside-lg-active":a(i),"is-aside-active":a(c),menu:a(R)(),onAsideLgCloseClick:f[2]||(f[2]=I=>t.value=!1)},null,8,["is-aside-mobile-expanded","is-aside-lg-active","is-aside-active","menu"]),m("div",{class:d(["transition-all",!a(i)||a(c)?"md:ml-[75px] md:md:w-[calc(100vw-75px)] w-screen ":"md:ml-[268px] md:w-[calc(100vw-268px)]"])},[D(y.$slots,"default")],2),m("div",{class:d(["fixed transition-all bottom-0 z-0",!a(i)||a(c)?"inset-x-0 w-screen":"md:left-[268px] md:w-[calc(100vw-268px)]"])},[v(X)],2)])}}});export{qe as default};
