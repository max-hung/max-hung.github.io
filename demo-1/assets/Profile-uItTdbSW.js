import{i as U,C as B,D as _,g as C,d as E,w as a,r as o,o as F,a as e,j as I,h as r,e as p,E as x}from"./index-HxgUx9u4.js";const q=p("strong",null,"Account Information",-1),L=p("hr",{class:"mt-3"},null,-1),S={class:"col-auto"},k={__name:"Profile",setup(j){const i=U("$toast"),f=B(),v=_(()=>f.getters["auth/loginUser"]),V=_(()=>f.getters["auth/loginEmail"]),t=C({name:v.value,email:V.value,password:"",cfmNewPwd:""}),w=C("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{8,}$");async function g(){if(t.value.password!==t.value.cfmNewPwd)return i.error("Password and Confirm Password should match");try{const{data:d}=await x(t.value);i.success(d.message)}catch(d){i.error(d.message)}finally{t.value.password="",t.value.cfmNewPwd=""}}return(d,l)=>{const P=o("CCardHeader"),u=o("CFormLabel"),m=o("CFormInput"),n=o("CCol"),c=o("CRow"),y=o("CLoadingButton"),N=o("CForm"),b=o("CCardBody"),h=o("CCard");return F(),E(c,{class:"justify-content-center"},{default:a(()=>[e(n,{xl:10},{default:a(()=>[e(h,null,{default:a(()=>[e(P,null,{default:a(()=>[q]),_:1}),e(b,null,{default:a(()=>[e(N,{class:"row",onSubmit:I(g,["prevent"])},{default:a(()=>[e(c,null,{default:a(()=>[e(n,{md:"6"},{default:a(()=>[e(u,{for:"Name"},{default:a(()=>[r("Name")]),_:1}),e(m,{type:"name",id:"Name",minlength:"4",modelValue:t.value.name,"onUpdate:modelValue":l[0]||(l[0]=s=>t.value.name=s),required:""},null,8,["modelValue"])]),_:1}),e(n,{md:"6"},{default:a(()=>[e(u,{for:"Email"},{default:a(()=>[r("Email")]),_:1}),e(m,{type:"email",id:"Email",modelValue:t.value.email,"onUpdate:modelValue":l[1]||(l[1]=s=>t.value.email=s),autocomplete:"",required:""},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{class:"mt-3"},{default:a(()=>[e(n,{md:"3"},{default:a(()=>[e(u,{for:"inputPassword"},{default:a(()=>[r("New Password")]),_:1}),e(m,{type:"password",id:"newPassword",pattern:w.value,modelValue:t.value.password,"onUpdate:modelValue":l[2]||(l[2]=s=>t.value.password=s),autocomplete:"new-password",oninvalid:"setCustomValidity('Must be at least 8 characters and contain 1 uppercase letter, 1 lowercase letter, and 1 number.')",onchange:"setCustomValidity('')",required:""},null,8,["pattern","modelValue"])]),_:1}),e(n,{md:"3"},{default:a(()=>[e(u,{for:"confirmNewPassword"},{default:a(()=>[r(" Password Confirmation ")]),_:1}),e(m,{type:"password",id:"confirmNewPassword",pattern:w.value,modelValue:t.value.cfmNewPwd,"onUpdate:modelValue":l[3]||(l[3]=s=>t.value.cfmNewPwd=s),autocomplete:"newPassword",oninvalid:"setCustomValidity('Must be at least 8 characters and contain 1 uppercase letter, 1 lowercase letter, and 1 number.')",onchange:"setCustomValidity('')",required:""},null,8,["pattern","modelValue"])]),_:1})]),_:1}),L,e(c,{class:"mb-3"},{default:a(()=>[p("div",S,[e(y,{color:"success",type:"submit","disabled-on-loading":""},{default:a(()=>[r(" Save User ")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{k as default};
