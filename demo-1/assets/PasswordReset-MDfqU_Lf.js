import{a1 as I,i as R,a4 as B,g as m,c as b,a as e,w as o,r as t,o as q,u as F,j as G,e as C,h as j}from"./index-HxgUx9u4.js";import{_ as N}from"./CAlert-WGxg5ubf.js";const T={class:"bg-light min-vh-100 d-flex flex-row align-items-center"},A=C("h1",null,"Reset Password",-1),U={class:"d-grid"},M={__name:"PasswordReset",setup($){const w=I(),f=R("$axios"),c=B(),s=m({pwd:"",repeatPwd:""}),p=m(),_=(n,a,r,l,d)=>{p.value.showAlert(n,a,r,l,d)};async function h(){if(s.value.pwd!==s.value.repeatPwd){_(!0,"Password and Confirm Password should match","danger");return}try{await f.post("/auth/reset-password",{id:c.query.id,password:s.value.pwd,token:c.query.token}),w.push({name:"Login"})}catch(n){_(!0,n.message,"danger")}}return(n,a)=>{const r=t("CIcon"),l=t("CInputGroupText"),d=t("CFormInput"),i=t("CInputGroup"),v=t("CButton"),x=t("CForm"),P=t("CCardBody"),y=t("CCard"),g=t("CCol"),k=t("CRow"),V=t("CContainer");return q(),b("div",T,[e(V,null,{default:o(()=>[e(k,{class:"justify-content-center"},{default:o(()=>[e(g,{md:9,lg:7,xl:6},{default:o(()=>[e(y,{class:"mx-4"},{default:o(()=>[e(F(N),{ref_key:"alertChildred",ref:p},null,512),e(P,{class:"p-4"},{default:o(()=>[e(x,{onSubmit:G(h,["prevent"])},{default:o(()=>[A,e(i,{class:"mb-3"},{default:o(()=>[e(l,null,{default:o(()=>[e(r,{icon:"cil-lock-locked"})]),_:1}),e(d,{type:"password",placeholder:"Password",modelValue:s.value.pwd,"onUpdate:modelValue":a[0]||(a[0]=u=>s.value.pwd=u),required:""},null,8,["modelValue"])]),_:1}),e(i,{class:"mb-4"},{default:o(()=>[e(l,null,{default:o(()=>[e(r,{icon:"cil-lock-locked"})]),_:1}),e(d,{type:"password",placeholder:"Repeat password",modelValue:s.value.repeatPwd,"onUpdate:modelValue":a[1]||(a[1]=u=>s.value.repeatPwd=u),required:""},null,8,["modelValue"])]),_:1}),C("div",U,[e(v,{type:"submit",color:"success"},{default:o(()=>[j("Rest Password")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}};export{M as default};
